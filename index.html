<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>ComicStripScript.js</title>
	<script src="./lib/jquery.js"></script>
	<script src="./lib/jqconsole.js"></script>
	<script src="./lib/sugar.js"></script>
	<script src="./lib/peg.js"></script>
	<script src="./lib/plt.js"></script>
	<script src="./lib/canvas-toBlob.js"></script>
	<script src="./lib/FileSaver.min.js"></script>
	<script src="./ComicStripScript.js"></script>
	<script src="./main.js"></script>
	<link rel ="stylesheet" href="./css/style.css" type="text/css">
</head>

<body>
<!-- DON'T NEED TO TOUCH*************************************************************************************************************** -->
<grammar>
start = title cast panels+ {ComicStripScript.run(ComicStripScript.tree)}

title = sp '---TITLE' sp t:titleString sp {ComicStripScript.tree.title = t;}
titleString = s:[^\n]* sp {return s.join("")}

cast = sp '---CAST' starring
starring = sp c:casts* sp {ComicStripScript.addToCasts(c);}
casts = sp 'Starring' space path:string space 'as' space name:string sp {return {name:name, path:path}}
panels = sp '---' sp contents:(left/right)+ sp { ComicStripScript.addToPanels(contents);}
left  = sp name:string sp ':' sp   emoticon:emoticon        space   '<(' caption:caption ')' {return {name:name, caption:caption, emoticon:emoticon, direction:"left"} }
right = sp name:string sp ':' sp   '(' caption:caption ')>' space   emoticon:emoticon        {return {name:name, caption:caption, emoticon:emoticon, direction:"right"} }
caption = '"' s:[^"]* '"' {return s.join("")}
emoticon = s:[^ \n]+ {return s.join("")}

sp = [ \n\t]*
space = ' '
string = s:[a-zA-Z0-9'"]* {return s.join("")}
number = d:[0-9\.-]+ sp {return parseFloat(d.join(""));}
</grammar>
<!-- *************************************************************************************************************** -->

<div id="about">
	<h1>ComicStripScript</h1>
	<h4>ComicStripScript is a javascript-based language which allows you to draw a comic strip with emoticons and speech bubbles.</h4>
</div>

<div id="trial">
	<div id="comic"></div>
	<div id="code">
		<div id="description">
			<b>Syntax</b><br/>
			Who : Expression <("Caption") <br/>
			A : ('-') <("make sure to have a space between Expression and the speech bubble.")<br/>
			<br/>
			You can refer the emoticon-table for Expression.<br/>
			Currently 5 expressions are available.
			<table>
				<tr>
					<th>Index</th>
					<th>|</th>
					<th>Expression</th>
				</tr>
				<tr>
					<th>0</th>
					<th>|</th>
					<th>('-')</th>
				</tr>
				<tr>
					<th>1</th>
					<th>|</th>
					<th>(;ﾟﾛﾟ)</th>
				</tr>
				<tr>
					<th>2</th>
					<th>|</th>
					<th>(^o^)</th>
				</tr>
				<tr>
					<th>3</th>
					<th>|</th>
					<th>(｀ε´)</th>
				</tr>
				<tr>
					<th>4</th>
					<th>|</th>
					<th>(･_･)</th>
				</tr>
			</table>
			<br/>
			More documentation is coming soon. Source codes are on <a href="https://github.com/yukiy/ComicStripScript">github</a>.<br/>
			<br/>
			It is aiming to be turing complete as much as possible. <br/>
			Loop, if, random functions will be implemented in the next update.
		</div>

		<br/>

		<div class="parse_btn" type="button">DRAW YOUR COMIC STRIP</div>
		<textarea id="code_input" cols=40 rows=40 style="opacity:100">
---TITLE
Mickey's day

---CAST
Starring mickey as M

---
M : ('-') <("HELLO \nMY NAME IS \nMICKEY.")

---
M : ("WHAT!?\n ARE YOU MICKEY?")> (;ﾟﾛﾟ)

---
M : (｀ε´) <("YES. \nI AM \nMICKEY MOUSE.")
M : ("")> (･_･)


		</textarea>
		<div class="parse_btn" type="button">DRAW YOUR COMIC STRIP</div>
	</div>
</div>



</body>
</html>
